<div class="container">

  <div>
    <%= render partial: "booking_details_card", locals: { booking: @booking }  %>
  </div>

  <div class="col-md-4 offset-md-4">

    <% if @booking.review.nil? %>

      <div class="property-card p-4">
        <h5 class="text-center">How was your stay?</h5>
        <div class="text-center m-3">
          <% 5.times do %>
            <i class="fa-solid fa-star fa-lg"></i>
          <% end %>
        </div>
        <%= form_with(model: @review, url: booking_reviews_path(@booking), scope: :review, local: true) do |form| %>

          <div class="mb-3">
            <%= form.label :rating, 'Rating', class: 'sr-only' %>
            <%= form.number_field :rating, class: 'form-control round_textbox', placeholder: 'Rate this from 1 - 5' %>
          </div>

          <div class="mb-3">
            <%= form.label :content, 'Review Content', class: 'sr-only' %>
            <%= form.text_area :content, class: "form-control round_textbox", placeholder: 'Tell us what you thought', rows: 5 %>
          </div>

          <div class="d-flex justify-content-center">
            <%= form.submit 'Submit Review', class: 'btn btn-primary rounded-pill' %>
          </div>
        <% end %>

      <% elsif @booking.end_date > Date.today %>
        <h2 class="text-center">You can't review this property yet</h2>
      <% else %>
        <%= render partial: "review_card", locals: { review: @review }  %>
      <% end %>


    </div>

  </div>
</div>
